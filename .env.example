# =============================================================================
# REQUIRED ENV (da settare su Vercel: Preview + Production)
# =============================================================================
# Senza queste variabili: build pu√≤ passare, ma login/prenotazione/pagamento/email falliranno.
# Coerenza: NEXT_PUBLIC_PAYPAL_CLIENT_ID deve essere uguale a PAYPAL_CLIENT_ID (stesso ambiente sandbox/live).
# =============================================================================

# --- FENAM ---
# Base URL login socio (solo origin + pathname). No www. Default: https://fenam.website/affiliazione
# Enotempo invia: {base}?source=enotempo&returnUrl=encodeURIComponent(callbackUrl)
FENAM_LOGIN_URL=https://fenam.website/affiliazione
# Segreto condiviso per verificare il token (JWT HS256 o HMAC) da FeNAM e firmare la sessione.
# Obbligatorio e non vuoto (min 16 caratteri) in prod/preview per /api/auth/fenam/callback.
FENAM_HANDOFF_SECRET=

# --- DB ---
# PostgreSQL (Supabase: usare TRANSACTION pooler, porta 6543)
DATABASE_URL=

# --- PAYPAL ---
# sandbox = test, live = produzione
PAYPAL_MODE=sandbox
PAYPAL_CLIENT_ID=
PAYPAL_SECRET=
# Stesso valore di PAYPAL_CLIENT_ID (per bottone JS nel browser)
NEXT_PUBLIC_PAYPAL_CLIENT_ID=

# --- SITE (opzionale) ---
# URL assoluto del sito per OG/canonical (es. https://enotempo.it). Fallback: VERCEL_URL o https://enotempo.it
NEXT_PUBLIC_SITE_URL=https://enotempo.it

# --- RESEND ---
RESEND_API_KEY=
RESEND_FROM=onboarding@resend.dev

# =============================================================================
# OPZIONALI
# =============================================================================
# Debug auth: se 1, handoff logga (solo) hasCookie, sessionValid, redirectHost (no PII)
# DEBUG_AUTH=0
# Vercel Blob Storage (solo se usi upload immagini)
BLOB_READ_WRITE_TOKEN=
# NODE_ENV (Vercel imposta automaticamente in produzione)
# NODE_ENV=production
